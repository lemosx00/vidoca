<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Galeria Mobile Imersiva</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #2d3436;
            --accent: #d1b894;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent; /* Remove o brilho de toque no mobile */
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: var(--bg-color);
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            text-align: center;
            padding: 30px 20px 20px;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 400;
        }

        .subtitle {
            font-weight: 300;
            letter-spacing: 3px;
            color: #999;
            text-transform: uppercase;
            font-size: 0.7rem;
            margin-bottom: 15px;
        }

        #musicBtn {
            background: #fff;
            border: 1px solid #eee;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 0.8rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        /* --- Ajuste do Carrossel para Mobile --- */
        .container {
            width: 100%;
            flex-grow: 1; /* Faz o container ocupar o espaÃ§o restante */
            padding: 0 15px 30px;
            display: flex;
            align-items: center;
        }

        .swiper {
            width: 100%;
            /* Formato ideal para celular (9:16) ou ajuste para 4:5 se preferir menos alto */
            aspect-ratio: 9 / 14;
            border-radius: 20px;
            background: #000;
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .swiper-slide {
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .swiper-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 6s ease-out;
        }

        .swiper-slide-active img {
            transform: scale(1.1);
        }

        /* Controles discretos para nÃ£o tapar as fotos no celular */
        .swiper-button-next, .swiper-button-prev {
            color: #fff !important;
            transform: scale(0.4); /* Menores no mobile */
            opacity: 0.6;
        }

        .swiper-pagination-progressbar {
            background: rgba(255,255,255,0.2) !important;
            top: auto !important;
            bottom: 0 !important;
            height: 4px !important;
        }

        .swiper-pagination-progressbar-fill {
            background: var(--accent) !important;
        }
    </style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="musica.mp3" type="audio/mpeg">
</audio>

<header>
    <p class="subtitle">Minha Bulachinha ðŸ’ž</p>
    <h1>Nossa Galeria</h1>
    <div style="margin-top: 10px;">
        <button id="musicBtn">Ativar Som â™ª</button>
    </div>
</header>

<div class="container">
    <div class="swiper mySwiper">
        <div class="swiper-wrapper" id="galleryWrapper"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-pagination"></div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
    const wrapper = document.getElementById('galleryWrapper');
    const galleryItems = [];

    // Gerando o array conforme sua estrutura
    for(let i = 89; i <= 113; i++){
        galleryItems.push({ type: 'image', src: `fotos1/foto (${i}).jpg` });
    }

    // Preenchendo o HTML
    galleryItems.forEach(item => {
        const slide = document.createElement('div');
        slide.className = 'swiper-slide';

        const img = document.createElement('img');
        img.src = item.src;
        img.loading = "lazy";

        img.onerror = function() {
            if (this.src.endsWith('.jpg')) {
                this.src = this.src.replace('.jpg', '.JPG');
            } else {
                slide.remove(); // Remove o slide se a imagem nÃ£o existir de jeito nenhum
            }
        };

        slide.appendChild(img);
        wrapper.appendChild(slide);
    });

    // Inicializando o Swiper otimizado
    const swiper = new Swiper(".mySwiper", {
        loop: true,
        grabCursor: true, // Mostra a mÃ£ozinha no desktop e facilita o arraste
        speed: 1000,
        effect: "fade",
        fadeEffect: { crossFade: true },
        autoplay: {
            delay: 3500,
            disableOnInteraction: false,
        },
        pagination: {
            el: ".swiper-pagination",
            type: "progressbar",
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
    });

    // Ãudio
    const music = document.getElementById("bgMusic");
    const btn = document.getElementById("musicBtn");

    btn.addEventListener("click", () => {
        if (music.paused) {
            music.play();
            btn.innerText = "Pausar Som ||";
        } else {
            music.pause();
            btn.innerText = "Ativar Som â™ª";
        }
    });
</script>
</body>
</html>